<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>棒針編み図エディタ</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/theme.css">
</head>
<body>
  <header>
    <h1>棒針編み図エディタ</h1>
    <p>シンプルで使いやすい編み図作成ツール</p>
  </header>

  <div id="toolbar">
    <!-- 一般設定グループ -->
    <div class="toolbar-group">
      <input type="color" id="color-picker" value="#ff0000">
      <!-- カスタム記号選択ドロップダウン -->
      <div id="stitch-type-dropdown" class="custom-dropdown">
        <div id="selected-stitch" class="custom-dropdown-selected">
          <!-- 初期表示：アイコンと名称 -->
          <span class="dropdown-icon"></span>
          <span class="dropdown-name">表目</span>
        </div>
        <div id="stitch-options" class="custom-dropdown-options" style="display: none;"></div>
      </div>
    </div>

    <!-- グリッド設定グループ -->
    <div class="toolbar-group">
      <label for="grid-rows-input">行数:</label>
      <input type="number" id="grid-rows-input" value="20" min="1">
      <label for="grid-cols-input">列数:</label>
      <input type="number" id="grid-cols-input" value="20" min="1">
      <button id="update-grid-size">グリッド更新</button>
    </div>

    <!-- 行・列追加グループ -->
    <div class="toolbar-group">
      <button id="add-row-top">上に追加</button>
      <button id="add-row-bottom">下に追加</button>
      <button id="add-col-left">左に追加</button>
      <button id="add-col-right">右に追加</button>
    </div>

    <!-- 行・列間追加グループ -->
    <div class="toolbar-group">
      <button id="insert-row-between">行間に行を追加</button>
      <button id="insert-col-between">列間に列を追加</button>
    </div>

    <!-- 行・列削除グループ -->
    <div class="toolbar-group">
      <button id="remove-row-top">上を削除</button>
      <button id="remove-row-bottom">下を削除</button>
      <button id="remove-col-left">左を削除</button>
      <button id="remove-col-right">右を削除</button>
    </div>

    <!-- 指定行・列削除グループ -->
    <div class="toolbar-group">
      <button id="remove-row-at">指定行削除</button>
      <button id="remove-col-at">指定列削除</button>
    </div>

    <!-- その他操作グループ -->
    <div class="toolbar-group">
      <button id="download-chart">画像保存</button>
      <button id="clear-grid">全体クリア</button>
    </div>
  </div>

  <div id="grid-wrapper">
    <!-- 上側のラベル行 -->
    <div style="display: flex;">
      <div style="width: var(--cell-size); height: var(--cell-size);"></div>
      <div id="grid-top-labels"></div>
      <div style="width: var(--cell-size); height: var(--cell-size);"></div>
    </div>
    <!-- 中央部分 -->
    <div style="display: flex;">
      <div id="grid-left-labels"></div>
      <div id="grid-container"></div>
      <div id="grid-right-labels"></div>
    </div>
    <!-- 下側のラベル行 -->
    <div style="display: flex;">
      <div style="width: var(--cell-size); height: var(--cell-size);"></div>
      <div id="grid-bottom-labels"></div>
      <div style="width: var(--cell-size); height: var(--cell-size);"></div>
    </div>
  </div>

  <!-- 数字入力用のカスタムモーダル -->
  <div id="number-prompt-modal" class="number-prompt-modal" style="display: none;">
    <div class="number-prompt-content">
      <div class="number-prompt-message"></div>
      <input type="number" id="number-prompt-input" />
      <div class="number-prompt-buttons">
        <button id="number-prompt-cancel">キャンセル</button>
        <button id="number-prompt-ok">OK</button>
      </div>
    </div>
  </div>

  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <script type="module" src="js/main.js"></script>
</body>
</html>